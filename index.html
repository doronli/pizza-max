<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>פיצה מקס</title>

  <link rel="stylesheet" href="css/external/bootstrap.min.css">
  <!-- font awesome -->
  <link rel="stylesheet" href="css/external/font-awesome.min.css">

  <link rel="stylesheet" href="./style.css">

</head>

<body dir="rtl" class="bg-light">
  <!-- navbar -->
  <nav class="navbar navbar-light bg-white">
      <span class="navbar-brand mb-0 h1" style="font-size: 2.5rem !important">פיצה מקס</span>
  </nav>



  <div class="container mt-4">
    <div class="row" id="pizzaReservation"  >
      <!-- Init with handlebars script -->
 

    </div>
    
    
    <!-- SECOND SCREEN invitation pizza summary-->
    <div id="pizzaSummary" class="row d-none">
      
      <h1 class="text-center w-100 mb-4 col-12"><ins>בחירת תוספות לפיצה</ins></h1>
      <div class="row w-100 justify-content-end" style="border-bottom: 1px solid rgba(0,0,0,.1)">
          <div id="bigPizzaSummary" class="col-lg-4">
            </div>
            <div id="famillyPizzaSummary" class="col-lg-4">
            </div>
            <div id="smallPizzaSummary" class="col-lg-4"></div>
      </div>
      <hr>
    </div>
      
    <!-- THIRD SCREEN drink option -->
    <div id="chooseSauce" class="d-none">
      <h2 class="text-center w-100 mb-4 col-12">
        <ins>בחירת רטבים:</ins>
      </h2>
      <p class="w-100 text-center h4 mb-5"
      >
      על כל מגש פיצה מגיע לך רוטב חינם, רוטב נוסף יעלה 2 ש"ח
      </p>
  
      <!-- רטבים -->
      <div id="sauce" class="row d-flex justify-content-between w-100">
          <!-- init with handlebars -->
      </div>
    </div>
      

    <!-- MODAL - Extra to pizza  -->
    <div id="pizzaExtra" class="modal fade" tabindex="-1" role="dialog">
        <div class="modal-dialog modal-lg" role="document">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title">תוספות לפיצה</h5>
              <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                <span aria-d-none="true">&times;</span>
              </button>
            </div>

           
            <div class="modal-body text-right">
              <p>בחר את התוספות הרצויות:</p>
              <p>
                <span class="font-weight-bold">מחיר התוספות:</span><br/>
                <span id="extraPizzaCost"></span>
                <p>
                  <b>הערה:</b>
                  תוספות מיוחדות על כל המגש בלבד
                </p>
              </p>

              <h4 class="col-12 hr text-center"> 
                  <ins> תוספת על מגש שלם או חצי מגש?</ins>
              </h4>
              <div class="d-flex justify-content-center ">
                <div class="col-xs-4 col-sm-3 col-md-4 nopad text-center">
                    <label class="image-checkbox quantity-extra-pizza" data-id="halfPizza">
                          <img class="img-responsive" src="./img/halfPizza.jpg" width="100px" height="100px" id="halfPizza" >
                          <input type="checkbox" name="image[]" value="">
                          <i class="fa fa-check d-none"></i>
                      </label>
                  </div>
    
                  <div class="col-xs-4 col-sm-3 col-md-4 nopad text-center">
                      <label class="image-checkbox quantity-extra-pizza" data-id="wholePizza">
                          <img class="img-responsive" src="./img/wholePizza.jpg" width="100px" height="100px"
                          id="wholePizza" >
                          <input type="checkbox" name="image[]" value="">
                          <i class="fa fa-check d-none"></i>
                      </label>
                    </div>
                  </div>
              <p id="whole-or-half-pizza-message-error" class="w-100 text-danger mt-2">
                *שים לב יש לבחור אם אתה רוצה את התוספות על חצי מגש או מגש שלם
              </p>
              
              <!-- extra -->
              <div class="row hr">
                  
                  <!-- extra -->
                  <div class="row" id="modal-extra-pizza">
                  
                  </div>
                  <p id="extra-pizza-message-error" class="w-100 text-danger d-none">
                    *עד שתי תוספות רגילות לכל מגש
                    
                  </p>
                  <div class="form-group col-12 mt-3">
                      <textarea class="form-control" id="comment" placeholder="הערה" ></textarea>
                   </div>
              </div>
            </div>

            <div class="modal-footer d-flex justify-content-center">
              <button id="saveExtraPizza" type="button" class="btn btn-primary ml-2"  disabled>שמור</button>
              <button type="button" class="btn btn-secondary" data-dismiss="modal">סגור</button>
            </div>
          </div>
        </div>
    </div>


   
 

  <!-- FORTH screen -->

    <div class="row d-none" id="drinkOption">

    </div>

    <!-- FIFTH SCREEN summary ORDER -->
    <div id="orderSummary" class="row d-none">
      <h2 style="text-decoration: underline" class="text-center"> סיכום הזמנה</h2>

      <div id="pizzaSummaryOrder" class="col-12 text-right">
          <h4>פיצות:</h4>
      </div>
 
      <div id="drinkSummary" class="col-12 text-right d-none">
        <hr/>
        <h4>שתייה:</h4>
      </div>

      <div id="saucesSummary" class="col-12 text-right d-none">
        <hr/>
        <h4>רטבים:</h4>

      </div>
    </div>
    
    <!-- Total price -->
    <div class="col-12 text-center mt-5 h2">
      סה"כ: 
      <span id="price">0</span>
      <span>ש"ח</span><br/>

      <div id="totalToPayText" class="d-none h4">
        <span style="cursor: pointer;" data-toggle="modal" data-target="#myModal">לתשלום העבר כרטיס אשראי</span><br>
        <span>שלם במטבעות ושטרות, המכונה מחזירה עודף</span>
      </div>
    </div>

    <div id="btn-continue-and-reload" class="d-flex justify-content-end mb-3">
        <button id="btnBack" class="btn btn-danger mt-3 p-3 d-none" onclick="changePage('back')">חזרה למסך הקודם</button>
        <!-- <button id="print" class="btn btn-primary mt-3 p-3 d-none " onclick="printData()">הדפס</button> -->
        <button id="continueBtn" class="btn btn-success mt-3 p-3" style="margin-right: 15px" onclick="changePage('add')">המשך</button>
        
    </div>  
  </div>

 <!-- The Modal -->
  <div class="modal fade" id="myModal">
    <div class="modal-dialog">
      <div class="modal-content">
      
        <!-- Modal Header -->
        <div class="modal-header">
          <h4 class="modal-title">לתשלום הכנס כסף במכונה</h4>
          <button type="button" class="close" data-dismiss="modal">&times;</button>
        </div>
        
        <!-- Modal body -->
        <div class="modal-body text-right">
         הסכום לתשלום הוא:
         <span id="priceToPayModal"> </span>
        </div>
        
        <!-- Modal footer -->
        <div class="modal-footer">
          <button type="button" class="btn btn-danger" data-dismiss="modal">Close</button>
        </div>
        
      </div>
    </div>
  </div>
<!--  -->
<!-- <span style='required'>*</span> - Indicates required field.
<div class='fields'>Swiped Information</div>
<input type=text name='swiped' id='swiped'>
</div>
<div class='fields'>First Name</div>
<input type=text name='first_name' id='first_name'><span style='required'>*</span>

</div>
<div class='fields'>Last Name</div>
<input type=text name='last_name' id='last_name'><span style='required'>*</span>

</div>
<div class='fields'>Expiration</div>
<input type=text size=8 name='expiration' id='expiration'><span style='required'>*</span>(MMYY)</div>
<div class='fields'>CVV Code</div>
<input type=text size=8 name='cvv' id='cvv'><span style='required'>*</span>

</div>
<div class='fields'>Credit Card Number</div>
<input type=text name='card' id='card'><span style='required'>*</span>

</div>
<hr>
<div class='buttons'></div>	<a onclick="readCard();" style="cursor:pointer; color:red;">Swipe Credit Card</a>

</div> -->


<!--  -->
  <script src="scripts/external/jquery.min.js"></script>

  <script src="scripts/external/poper.min.js"></script>
  <script src="scripts/external/bootstrap.min.js"></script>

  <script src="scripts/external/handlebars.min.js"></script>
  <script src="scripts/external/sweetalert.min.js"></script>

  
  <!--------------- handlebars scripts ---------------->

  <!-- pizza reservation -->
    <script id="handlebars-pizza-reservation" type="text/x-handlebars-template">
      {{#each pizza}}
          <div class="col-md-4 " >
              <div class="card" style="width: 18rem;">
              <img class="card-img-top" src="img/pizza.jpg" alt="Card image cap">
              <div class="card-body">
                  <p class="card-text text-right">{{pizzaDescription}}</p>
                  <p class="card-text text-center">{{cost}} ש"ח</p>
                  <div class="row p-3">
                      <div class="d-flex justify-content-center mb-3 w-100">
                      <button class="btn btn-danger col-6 ml-2 text-center btn-reservation" data-label-id="{{id}}" data-button-type="remove" >-</button>
                      
                      <button class="btn btn-success col-6 text-center btn-reservation" data-label-id="{{id}}" data-button-type="add" >+</button>

                  </div>
                      <label  id={{id}} class=" col-12 text-center h2 btn-reservation" data-cost="{{cost}}">0</label>
                  </div>
              
              </div>
              </div>
          </div>
      {{/each}}
  </script>

  <!-- sauce reservation-->
  <script id="handlebars-sauce-reservation" type="text/x-handlebars-template">

    {{#each sauce}}
      <div class="col-md-4 " >
          <div class="card" style="width: 18rem;">
            <img class="card-img-top" src="img/{{imgPath}}" height="200px" alt="{{sauceHebrewName}}">
            <div class="card-body">
              <p class="card-text text-center h2">{{sauceHebrewName}}</p>
              
              <div class="row p-3">
                  <div class="d-flex justify-content-center mb-3 w-100">
                    <button class="btn btn-danger col-6 ml-2 text-center btn-reservation" data-label-id="{{id}}" data-button-type="remove">-</button>

                    <button class="btn btn-success col-6 ml-2 text-center btn-reservation" data-label-id="{{id}}" data-button-type="add">+</button>
                </div>

                  <label id="{{id}}" class=" col-12 text-center h2" data-name="{{sauceHebrewName}}" data-cost="{{cost}}" data-type="sauce">0</label>
              </div>
            </div>
          </div>
      </div>
    {{/each}}

  </script>

  <!-- drink reservation -->
  <script id="handlebars-drink" type="text/x-handlebars-template">
    {{#each drinks}}
    <div class="mb-5 row w-100">

    {{#each drinkArr}}
      <div class="col-md-4 " >
        <div class="card" style="width: 18rem;">
          <img class="card-img-top img-thumbnail" src="img/{{imgPath}}" height="150px" alt="{{drinkHebrewName}}">
          <div class="card-body">
            <p class="card-text text-center h4">
              {{drinkHebrewName}}
              <p class="card-text text-center">{{cost}} ש"ח</p>
            </p>
            
            <div class="row p-3">
                <div class="d-flex justify-content-center mb-3 w-100">
                  <button class="btn btn-danger col-6 ml-2 text-center btn-reservation" data-label-id="{{id}}" data-button-type="remove">-</button>

                  <button class="btn btn-success col-6 ml-2 text-center btn-reservation" data-label-id="{{id}}" data-button-type="add">+</button>
              </div>

                <label id="{{id}}" class=" col-12 text-center h2" data-name="{{drinkHebrewName}}" data-cost="{{cost}}" data-type="drink">0</label>
            </div>
          </div>
        </div>
      </div>
    {{/each}}
  </div>
  {{/each}}
    
  

  </script>
  <!-- init the extra on the pizza -->
  <script id="handlebars-extra-pizza" type="text/x-handlebars-template">

    {{#each extra}}
        {{#if isSpecial}}
          <div class="col-12">
            <h4 class="w-100 text-center mt-3 hr" >
              <ins> תוספות מיוחדות על כל המגש</ins>
            </div>
          </div>
        {{/if}}
        <div class="col-xs-4 col-sm-3 col-md-4 nopad text-center">
          <label class="image-checkbox extra-pizza" data-id="{{value}}" >
              <img class="img-responsive" src="{{imagePath}}" width="100px" height="100px" id="{{id}}" value="{{value}}"/>
              <input type="checkbox" name="image[]" value="" />
              <i class="fa fa-check d-none"></i>
              {{#if isSpecial}}
              <p class="text-center">{{hebrewName}}</p>
              {{/if}}
          </label>
        </div>
    {{/each}}

  </script>
  <!-- end handlebars function -->

  <!-- local script -->
  <script src="./handlebars/handlebars.js"></script>
  <script src="./scripts/payout.js"></script>
  <script src="./scripts/credit-card.js"></script>
  <script src="./scripts/script.js?1.1"></script>

</body>
</html>